(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{906:()=>{},2165:()=>{},2672:()=>{},5477:()=>{},7702:()=>{},8361:()=>{},8518:()=>{},8578:()=>{},9297:()=>{},9511:()=>{},9523:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var l=s(5155),a=s(2115),n=s(9051),r=s(3550),c=s(8132),o=s(6892);let i={VALIDATION_ERROR:"엔딩 정보가 유효하지 않습니다. 필수 데이터(타입, 제목, 메시지)가 누락되었습니다.",SCENE_ID_ERROR:"엔딩 타입에 해당하는 씬 ID를 찾을 수 없습니다.",SCENE_NOT_FOUND:"엔딩 씬이 존재하지 않습니다. 스토리 데이터를 확인해주세요.",RESULT_DISPLAY_ERROR:"엔딩 결과를 표시할 수 없습니다. 엔딩 정보가 누락되었거나 유효하지 않습니다."},u={FLOW_ERROR:e=>"스토리가 끊겼습니다: ".concat(e),CHOICE_ERROR:e=>'선택지 "'.concat(e,'"에 다음 씬 정보가 없습니다.')},d={RESET_TO_TITLE:"처음 화면으로 돌아가면 현재 진행 중인 내용이 사라질 수 있습니다. <strong>계속하시겠습니까?</strong>",STORY_ERROR:e=>"스토리 데이터 오류: <strong>".concat(e,"</strong><br/><br/>처음 화면으로 돌아갑니다.")},m=e=>Array.isArray(e)?e.reduce((e,t)=>((null==t?void 0:t.id)&&(e[t.id]={emotion:t.emotion,position:t.position,active:t.active}),e),{}):{},g={NONE:null,SAVE_LOAD:"saveLoad",CONFIRM:"confirm",STORY_ERROR:"storyError"},h=new Set,f=new Map,x=e=>{if(!e)return Promise.resolve(null);if(h.has(e))return Promise.resolve(e);if(f.has(e))return f.get(e);let t=new Promise((t,s)=>{let l=new Image;l.onload=()=>{h.add(e),f.delete(e),t(e)},l.onerror=s=>{f.delete(e),console.warn("[ImagePreloader] Failed to preload: ".concat(e),s),t(null)},l.src=e});return f.set(e,t),t},p=async e=>{if(!e||0===e.length)return[];let t=e.filter(e=>e),s=t.filter(e=>!h.has(e));if(0===s.length)return t;console.log("[ImagePreloader] Preloading ".concat(s.length," images"));try{let e=s.map(e=>x(e)),l=(await Promise.allSettled(e)).filter(e=>"fulfilled"===e.status&&e.value).length;return console.log("[ImagePreloader] Successfully preloaded ".concat(l,"/").concat(s.length," images")),t}catch(e){return console.error("[ImagePreloader] Error during batch preload:",e),t}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{timeout:s=3e4}=t;if(!e||0===e.length)return{success:!0,loaded:0,total:0,failed:[]};let l=e.filter(e=>e),a=l.filter(e=>!h.has(e));if(0===a.length)return{success:!0,loaded:l.length,total:l.length,failed:[]};console.log("[ImagePreloader] Blocking preload for ".concat(a.length," images"));try{let e=a.map(e=>x(e)),t=new Promise((e,t)=>setTimeout(()=>t(Error("Preload timeout")),s)),l=await Promise.race([Promise.allSettled(e),t]),n=l.filter(e=>"fulfilled"===e.status&&e.value),r=l.filter(e=>"rejected"===e.status||!e.value).map((e,t)=>a[t]).filter(Boolean),c=n.length,o=a.length,i=c===o;return console.log("[ImagePreloader] Blocking preload ".concat(i?"completed":"partial",": ").concat(c,"/").concat(o," images")),i||console.warn("[ImagePreloader] Failed to load ".concat(r.length," images:"),r),{success:i,loaded:c,total:o,failed:r}}catch(e){return console.error("[ImagePreloader] Blocking preload error:",e),{success:!1,loaded:0,total:a.length,failed:a}}},N=()=>{h.clear(),f.clear(),console.log("[ImagePreloader] Cache cleared")};var j=s(4305);let b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:l=!0,lookAheadDialogues:n=5,lookAheadScenes:r=2,resetOnMount:c=!1}=s,o=(0,a.useRef)(null),i=(0,a.useRef)(null),u=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{c&&N()},[c]),(0,a.useEffect)(()=>{if(!l||!e||o.current===e&&i.current===t||u.current)return;let s=async()=>{u.current=!0;try{let s=(0,j.uK)(e,t,{lookAheadDialogues:n,lookAheadScenes:r});s.length>0&&(console.log("[useImagePreloader] Preloading ".concat(s.length," images for scene: ").concat(e,", dialogue: ").concat(t)),await p(s))}catch(e){console.error("[useImagePreloader] Preload error:",e)}finally{u.current=!1,o.current=e,i.current=t}},a=setTimeout(()=>{s()},0);return()=>{clearTimeout(a)}},[e,t,l,n,r]),{clearCache:N}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[s,l]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!1),[c,o]=(0,a.useState)({loaded:0,total:0}),i=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{if(t&&!i.current){if(0===e.length){l(!1),r(!0);return}i.current=!0,(async()=>{console.log("[useTitleScreenPreloader] Blocking preload for ".concat(e.length," title images")),l(!0),r(!1);try{let t=await v(e,{timeout:3e4});o({loaded:t.loaded,total:t.total}),t.success?(console.log("[useTitleScreenPreloader] All title images loaded successfully"),r(!0)):(console.warn("[useTitleScreenPreloader] Some images failed to load: ".concat(t.failed.length,"/").concat(t.total)),r(t.loaded>0))}catch(e){console.error("[useTitleScreenPreloader] Preload error:",e),r(!0)}finally{l(!1)}})()}},[e,t]),{isLoading:s,isReady:n,progress:c}};var C=s(4197);s(906),s(9511);let k=e=>{let{endingInfo:t,affection:s,onRestart:a,onBackToTitle:c}=e,{characters:o}=(0,n.x)();return(0,l.jsx)("div",{className:"ending-result-overlay",children:(0,l.jsxs)("div",{className:"ending-result-card",children:[(0,l.jsxs)("div",{className:"ending-title-content",children:[(0,l.jsxs)("div",{className:"ending-type-badge",children:["best"===t.type&&"BEST ENDING","good"===t.type&&"GOOD ENDING","normal"===t.type&&"NORMAL ENDING","bad"===t.type&&"BAD ENDING","duo"===t.type&&"DUO ENDING"]}),(0,l.jsxs)("div",{className:"ending-title-box",children:[(0,l.jsx)("h2",{className:"ending-title",children:t.title}),(0,l.jsx)("span",{className:"line-deco left"}),(0,l.jsx)("span",{className:"line-deco right"})]}),(0,l.jsxs)("p",{className:"ending-message",children:[(0,l.jsx)("span",{className:"icon-ending-message"}),t.message]})]}),(0,l.jsxs)("div",{className:"final-affection",children:[(0,l.jsx)("h3",{children:"최종 호감도"}),(0,l.jsx)("div",{className:"affection-summary",children:Object.values(o).map(e=>{var t,a;let n=null!=(a=null!=(t=s[e.id])?t:e.initialAffection)?a:0,c=(0,r.nC)(e.id,n);return(0,l.jsxs)("div",{className:"affection-row",children:[(0,l.jsx)("span",{className:"char-name",style:{color:e.color},children:e.name}),(0,l.jsx)("span",{className:"affection-bar-small",children:(0,l.jsx)("span",{className:"affection-fill",style:{width:c,background:e.color}})}),(0,l.jsx)("span",{className:"affection-num",children:n})]},e.id)})})]}),(0,l.jsxs)("div",{className:"ending-buttons",children:[(0,l.jsxs)("button",{className:"title-button secondary",onClick:c,children:[(0,l.jsx)("span",{className:"line-deco left"}),"처음으로",(0,l.jsx)("span",{className:"line-deco right"})]}),(0,l.jsxs)("button",{className:"restart-button primary",onClick:a,children:[(0,l.jsx)("span",{className:"line-deco left"}),"다시 시작",(0,l.jsx)("span",{className:"line-deco right"})]})]})]})})};s(9297);let S=e=>{let{onStart:t,onLoad:s,isMuted:a,onToggleMute:r}=e,{gameInfo:c}=(0,n.x)();return(0,l.jsxs)("div",{className:"title-screen",children:[(0,l.jsx)("div",{className:"title-music-button-container",children:(0,l.jsx)("button",{className:"title-music-button ".concat(a?"music-off":"music-on"),onClick:r,children:(0,l.jsx)("span",{className:"game-button-icon"})})}),(0,l.jsxs)("div",{className:"title-container",children:[(0,l.jsxs)("div",{className:"title-content",children:[(0,l.jsxs)("div",{className:"title-box",children:[(0,l.jsx)("h1",{className:"game-title",children:c.title}),(0,l.jsx)("span",{className:"line-deco left"}),(0,l.jsx)("span",{className:"line-deco right"})]}),(0,l.jsxs)("div",{className:"game-subtitle",children:[(0,l.jsx)("span",{className:"icon-subtitle"}),c.subtitle]})]}),(0,l.jsxs)("div",{className:"title-buttons",children:[(0,l.jsxs)("button",{className:"start-button",onClick:t,children:[(0,l.jsx)("span",{className:"line-deco left"}),"시작하기",(0,l.jsx)("span",{className:"line-deco right"})]}),(0,l.jsxs)("button",{className:"load-button",onClick:s,children:[(0,l.jsx)("span",{className:"line-deco left"}),"불러오기",(0,l.jsx)("span",{className:"line-deco right"})]})]})]}),(0,l.jsx)("p",{className:"copyright",children:"Websual-Novel.v1.4 made @rr11gg22"})]})},E=e=>{var t;let{currentPlaceId:s,onSaveClick:a,onLoadClick:r,onResetClick:c,isMuted:o,onToggleMute:i}=e,{places:u}=(0,n.x)();return(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsxs)("div",{className:"place-bar",children:[(0,l.jsx)("span",{className:"icon-place-bar"}),(0,l.jsx)("h1",{className:"place-name",children:(null==(t=u[s])?void 0:t.name)||"알 수 없는 장소"})]}),(0,l.jsxs)("div",{className:"game-buttons",children:[(0,l.jsxs)("button",{className:"game-button",onClick:a,children:[(0,l.jsx)("span",{className:"game-button-icon save"}),(0,l.jsx)("span",{className:"game-button-text",children:"저장하기"})]}),(0,l.jsxs)("button",{className:"game-button",onClick:r,children:[(0,l.jsx)("span",{className:"game-button-icon load"}),(0,l.jsx)("span",{className:"game-button-text",children:"불러오기"})]}),(0,l.jsxs)("button",{className:"game-button",onClick:c,children:[(0,l.jsx)("span",{className:"game-button-icon exit"}),(0,l.jsx)("span",{className:"game-button-text",children:"처음으로"})]}),(0,l.jsx)("button",{className:"game-button ".concat(o?"music-off":"music-on"),onClick:i,children:(0,l.jsx)("span",{className:"game-button-icon"})})]})]})},R="visualNovel_save_slot_",O=function(e,t){var s,l;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return"알 수 없는 장소";if("title"===e.type)return"타이틀 화면";if("ending"===e.type)return"엔딩";let n=t?(null==(l=places[t])?void 0:l.name)||t:"스토리 진행 중";if("choice"===e.type)return"".concat(n," - 선택");let r=null;if(Array.isArray(e.dialogues)&&e.dialogues.length>0){let t=e.dialogues[a]||e.dialogues[0];r=null==t?void 0:t.speaker}else(null==(s=e.dialogue)?void 0:s.speaker)&&(r=e.dialogue.speaker);let c=(e=>{if(!e)return"알 수 없음";if("narrator"===e)return"나레이터";if("me"===e)return"나";let t=characters[e];return(null==t?void 0:t.name)||e})(r);return"".concat(n," - ").concat(c)};s(8361);let I=e=>{let{mode:t,onClose:s,onLoad:r,currentGameState:c}=e,{saveGame:o,loadGame:i,getAllSlots:u,deleteSlot:d,exportAllSaves:m,importAllSaves:g}=(()=>{let{storyScenes:e,characters:t,places:s}=(0,n.x)(),l=(0,a.useCallback)((t,s)=>{let{currentSceneId:l,affection:a,endingInfo:n,showEndingResult:r,dialogueIndex:c,currentPlace:o}=s,i=O(e.find(e=>e.id===l),o,c),u={slotId:t,timestamp:new Date().toISOString(),sceneId:l,sceneName:i,affection:a,endingInfo:n,showEndingResult:r,dialogueIndex:c,currentPlace:o,version:"1.0"};try{return localStorage.setItem("".concat(R).concat(t),JSON.stringify(u)),{success:!0,data:u}}catch(e){return console.error("Save failed:",e),{success:!1,error:e.message}}},[]),r=(0,a.useCallback)(e=>{try{let t=localStorage.getItem("".concat(R).concat(e));if(!t)return{success:!1,error:"저장 데이터가 없습니다."};let s=JSON.parse(t);return{success:!0,data:s}}catch(e){return console.error("Load failed:",e),{success:!1,error:e.message}}},[]),c=(0,a.useCallback)(()=>{let e=[];for(let t=1;t<=3;t++)try{let s=localStorage.getItem("".concat(R).concat(t));if(s){let l=JSON.parse(s);e.push({slotId:t,isEmpty:!1,...l})}else e.push({slotId:t,isEmpty:!0,timestamp:null,sceneName:null})}catch(s){console.error("Error loading slot ".concat(t,":"),s),e.push({slotId:t,isEmpty:!0,timestamp:null,sceneName:null})}return e},[]),o=(0,a.useCallback)(e=>{try{return localStorage.removeItem("".concat(R).concat(e)),{success:!0}}catch(e){return console.error("Delete failed:",e),{success:!1,error:e.message}}},[]);return{saveGame:l,loadGame:r,getAllSlots:c,deleteSlot:o,exportAllSaves:(0,a.useCallback)(()=>{try{let e={};for(let t=1;t<=3;t++){let s=localStorage.getItem("".concat(R).concat(t));s&&(e["slot_".concat(t)]=JSON.parse(s))}let t={version:"1.0",exportDate:new Date().toISOString(),saves:e},s=JSON.stringify(t,null,2),l=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(l),n=document.createElement("a");return n.href=a,n.download="visual_novel_saves_".concat(Date.now(),".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),{success:!0}}catch(e){return console.error("Export all saves failed:",e),{success:!1,error:e.message}}},[]),importAllSaves:(0,a.useCallback)(e=>new Promise(t=>{let s=new FileReader;s.onload=e=>{try{let s=JSON.parse(e.target.result);if(!s.saves)return void t({success:!1,error:"유효하지 않은 세이브 파일입니다."});for(let e=1;e<=3;e++)localStorage.removeItem("".concat(R).concat(e));Object.entries(s.saves).forEach(e=>{let[t,s]=e,l=s.slotId||parseInt(t.replace("slot_",""));localStorage.setItem("".concat(R).concat(l),JSON.stringify(s))}),t({success:!0,count:Object.keys(s.saves).length})}catch(e){console.error("Import all saves failed:",e),t({success:!1,error:e.message})}},s.onerror=()=>{t({success:!1,error:"파일을 읽을 수 없습니다."})},s.readAsText(e)}),[]),SLOT_COUNT:3}})(),[h,f]=(0,a.useState)(()=>u()),[x,p]=(0,a.useState)(null),v=(0,a.useRef)(null),[N,j]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(x){let e=setTimeout(()=>{p(null)},3e3);return()=>clearTimeout(e)}},[x]);let C=a.useCallback(()=>{f(u())},[u]),k=async()=>{if(!b)return;let e=await g(b);e.success?(p({type:"success",text:"전체 세이브 불러오기 완료!"}),C()):p({type:"error",text:"불러오기 실패: ".concat(e.error)}),j(!1),y(null)};return(0,l.jsx)("div",{className:"save-load-overlay",children:(0,l.jsxs)("div",{className:"save-load-modal",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h2",{children:"save"===t?"저장하기":"불러오기"}),(0,l.jsx)("button",{className:"close-button",onClick:s})]}),(0,l.jsxs)("div",{className:"global-actions",children:[(0,l.jsxs)("button",{className:"global-action-btn export",onClick:()=>{let e=m();e.success?p({type:"success",text:"전체 세이브 파일로 내보내기 완료!"}):p({type:"error",text:"내보내기 실패: ".concat(e.error)})},children:[(0,l.jsx)("span",{className:"global-btn-icon export"}),(0,l.jsx)("span",{className:"global-action-text",children:"전체 내보내기"})]}),(0,l.jsxs)("button",{className:"global-action-btn import",onClick:()=>{v.current.click()},children:[(0,l.jsx)("span",{className:"global-btn-icon import"}),(0,l.jsx)("span",{className:"global-action-text",children:"전체 불러오기"})]})]}),x&&(0,l.jsx)("div",{className:"save-message ".concat(x.type),children:x.text}),(0,l.jsx)("div",{className:"slots-container",children:h.map(e=>(0,l.jsxs)("div",{className:"slot-item ".concat(e.isEmpty?"empty":"filled"),onClick:()=>{"save"===t?(e=>{if(!c)return p({type:"error",text:"저장할 데이터가 없습니다."});let t=o(e,c);t.success?(p({type:"success",text:"슬롯 ".concat(e,"에 저장되었습니다.")}),C()):p({type:"error",text:"저장 실패: ".concat(t.error)})})(e.slotId):e.isEmpty||(e=>{let t=i(e);t.success?(p({type:"success",text:"슬롯 ".concat(e,"에서 불러왔습니다.")}),setTimeout(()=>{r(t.data),s()},500)):p({type:"error",text:"불러오기 실패: ".concat(t.error)})})(e.slotId)},children:[(0,l.jsxs)("div",{className:"slot-header",children:[(0,l.jsxs)("span",{className:"slot-number",children:["슬롯 ",e.slotId]}),!e.isEmpty&&(0,l.jsx)("div",{className:"slot-actions",children:(0,l.jsx)("button",{className:"action-btn delete",onClick:t=>((e,t)=>{if(t.stopPropagation(),window.confirm("슬롯 ".concat(e,"의 데이터를 삭제하시겠습니까?"))){let t=d(e);t.success?(p({type:"success",text:"슬롯 ".concat(e,"이 삭제되었습니다.")}),C()):p({type:"error",text:"삭제 실패: ".concat(t.error)})}})(e.slotId,t),title:"삭제"})})]}),e.isEmpty?(0,l.jsx)("div",{className:"slot-content empty-content",children:(0,l.jsx)("span",{className:"empty-text",children:"비어있음"})}):(0,l.jsx)("div",{className:"slot-content",children:(0,l.jsxs)("div",{className:"slot-info",children:[(0,l.jsx)("div",{className:"scene-name",children:e.sceneName}),(0,l.jsx)("div",{className:"timestamp",children:(e=>e?new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"")(e.timestamp)})]})})]},e.slotId))}),(0,l.jsx)("input",{type:"file",ref:v,style:{display:"none"},accept:".json",onChange:e=>{let t=e.target.files[0];t&&(y(t),j(!0),e.target.value="")}}),N&&(0,l.jsx)("div",{className:"confirm-dialog-overlay",children:(0,l.jsxs)("div",{className:"confirm-dialog",children:[(0,l.jsx)("h3",{className:"confirm-title",children:"경고"}),(0,l.jsxs)("p",{className:"confirm-message",children:["불러오기를 진행하면 현재 저장된 세이브 데이터는 모두 삭제되거나 덮어씌워집니다.",(0,l.jsx)("strong",{children:"계속하시겠습니까?"})]}),(0,l.jsxs)("div",{className:"confirm-buttons",children:[(0,l.jsx)("button",{className:"confirm-btn cancel",onClick:()=>{j(!1),y(null),p({type:"success",text:"불러오기가 취소되었습니다."})},children:"취소"}),(0,l.jsx)("button",{className:"confirm-btn confirm",onClick:k,children:"확인"})]})]})})]})})};s(8518);let _=e=>{let{message:t,onConfirm:s,onCancel:a}=e;return(0,l.jsx)("div",{className:"confirm-dialog-overlay",onClick:a,children:(0,l.jsxs)("div",{className:"confirm-dialog",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{className:"confirm-title",children:"확인"}),(0,l.jsx)("p",{className:"confirm-message",dangerouslySetInnerHTML:{__html:t}}),(0,l.jsxs)("div",{className:"confirm-buttons",children:[(0,l.jsx)("button",{className:"confirm-btn cancel",onClick:a,children:"취소"}),(0,l.jsx)("button",{className:"confirm-btn confirm",onClick:s,children:"확인"})]})]})})},w=e=>{let{activeModal:t,modalData:s,onCloseModal:a,onLoad:n,currentGameState:r}=e;return(0,l.jsxs)(l.Fragment,{children:[t===g.SAVE_LOAD&&(0,l.jsx)(I,{mode:null==s?void 0:s.mode,onClose:a,onLoad:n,currentGameState:r}),t===g.CONFIRM&&(0,l.jsx)(_,{message:null==s?void 0:s.message,onConfirm:null==s?void 0:s.onConfirm,onCancel:a}),t===g.STORY_ERROR&&(0,l.jsx)(_,{message:null==s?void 0:s.message,onConfirm:null==s?void 0:s.onConfirm,onCancel:null==s?void 0:s.onConfirm})]})};s(2672);let A=a.memo(e=>{let{id:t,emotion:s,position:a,active:r,isNew:c}=e,{characters:o}=(0,n.x)(),i=((e,t)=>{if(!e||!t)return null;let s=null==o?void 0:o[e];if(!s||!s.imageFolder||!s.emotions||!s.emotions[t])return null;try{return"/assets/characters/".concat(s.imageFolder,"/").concat(s.emotions[t])}catch(s){return console.error("Failed to load image for ".concat(e," with emotion ").concat(t,":"),s),null}})(t,s);return i?(console.log("CharacterSprite LOADED - NEW VERSION"),console.log(t,"isNew:",c,"class:",["sprite",a,r?"active":"",c?"fade-in":""].join(" ")),(0,l.jsx)("div",{className:"character-sprite character-".concat(a||"center"," emotion-").concat(s).concat(r?" active-character":""),children:(0,l.jsx)("img",{src:i,alt:t,className:["sprite",a,r?"active":"",c?"fade-in":""].join(" "),onError:e=>{console.error("Image load error for ".concat(t,":"),e),e.target.style.display="none"}})})):null},(e,t)=>e.id===t.id&&e.emotion===t.emotion&&e.position===t.position&&e.active===t.active&&e.isNew===t.isNew);A.displayName="CharacterSprite";let D=a.memo(e=>{let{characterMap:t}=e;return t&&"object"==typeof t&&0!==Object.keys(t).length?(0,l.jsx)("div",{className:"character-display",children:Object.entries(t).map(e=>{let[t,s]=e;return s&&s.emotion?(0,l.jsx)(A,{id:t,emotion:s.emotion,position:s.position,active:s.active,isNew:s.isNew},t):null})}):null});D.displayName="CharacterDisplay";var P=s(2418);s(5477);let M=e=>{let{speaker:t,text:s,onNext:a}=e,{displayName:n,speakerColor:r}=(0,P.M)(t);return(0,l.jsx)("div",{className:"dialogue-box",onClick:a,children:(0,l.jsxs)("div",{className:"dialogue-content",children:[n&&(0,l.jsxs)("div",{className:"speaker-name",style:{color:r},children:[(0,l.jsx)("p",{className:"speaker-text",children:n}),(0,l.jsx)("span",{className:"line-deco left"}),(0,l.jsx)("span",{className:"line-deco right"})]}),(0,l.jsxs)("div",{className:"dialogue-text",children:[s,(0,l.jsx)("button",{className:"next-button"})]})]})})};s(9755);let T=e=>{let{choices:t,onChoice:s}=e;return(0,l.jsx)("div",{className:"choice-box",children:(0,l.jsx)("div",{className:"choices-container",children:t.map((e,t)=>(0,l.jsxs)("button",{className:"choice-button",onClick:()=>s(e),children:[(0,l.jsx)("div",{className:"icon-choice-button"}),(0,l.jsx)("p",{className:"choice-button-text",children:e.text})]},t))})})};s(8578);let L=e=>{let{message:t="로딩 중..."}=e;return(0,l.jsx)("div",{className:"ingame-loading-screen",children:(0,l.jsx)("div",{className:"ingame-loading-overlay",children:(0,l.jsxs)("div",{className:"ingame-loading-content",children:[(0,l.jsx)("div",{className:"ingame-spinner"}),(0,l.jsx)("p",{className:"ingame-loading-message",children:t})]})})})};s(2165);let F=e=>{let{imagePath:t,alt:s="Cutscene"}=e,[n,r]=(0,a.useState)(!1),[c,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{r(!1),o(!1)},[t]),t)?(0,l.jsxs)("div",{className:"cutscene",children:[!n&&!c&&(0,l.jsx)(L,{message:"컷신을 불러오는 중..."}),c&&(0,l.jsx)("div",{className:"cutscene-error",children:(0,l.jsx)("p",{children:"이미지를 불러올 수 없습니다"})}),(0,l.jsx)("img",{src:"assets/cutscenes/".concat(t),alt:s,className:"cutscene-image ".concat(n?"cutscene-image-loaded":""),onLoad:()=>{r(!0),o(!1)},onError:()=>{r(!1),o(!0),console.error("[Cutscene] Failed to load image: ".concat(t))}})]}):null},B=e=>{let{displayedCharacters:t,shouldShowCutscene:s,currentScene:a,showReaction:n,currentReaction:r,handleReactionNext:c,shouldShowChoices:o,dialogueForChoice:i,currentLine:u,handleNext:d,onChoice:m}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D,{characterMap:t}),(0,l.jsxs)("div",{className:"scene-content",children:[s&&(0,l.jsx)(F,{imagePath:a.cutsceneImage,alt:"Cutscene"}),(()=>{if(n&&r)return(0,l.jsx)(M,{speaker:r.speaker,text:r.text,onNext:c});let e=o?i:u;return e&&(0,l.jsx)(M,{speaker:e.speaker,text:e.text,onNext:o?void 0:d})})(),o&&!n&&(0,l.jsx)(T,{question:a.question,choices:a.choices,onChoice:m})]})]})};var U=s(2804),G=s(8868);s(7702);let V=e=>{let{showOnTitleScreen:t=!1}=e,{validationErrors:s}=(0,n.x)(),[r,c]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{t&&s.length>0&&!o&&("true"===sessionStorage.getItem("validation_popup_dismissed")?i(!0):c(!0))},[t,s,o]),!t||0===s.length||!r)return null;let u=(0,G.IL)(s),d=s.filter(e=>e.severity===G.C$.ERROR),m=s.filter(e=>e.severity===G.C$.WARNING);return(0,l.jsx)("div",{className:"validation-popup-overlay",children:(0,l.jsxs)("div",{className:"validation-popup",children:[(0,l.jsxs)("div",{className:"validation-popup-header",children:[(0,l.jsxs)("div",{className:"validation-popup-title",children:[(0,l.jsx)("span",{className:"validation-popup-icon"}),(0,l.jsxs)("span",{children:["storyData 검증 결과 (",u.total,"개 문제)"]})]}),(0,l.jsx)("button",{className:"close-button",onClick:()=>{c(!1),i(!0),sessionStorage.setItem("validation_popup_dismissed","true")}})]}),(0,l.jsxs)("div",{className:"validation-popup-summary",children:[u.errors>0&&(0,l.jsxs)("span",{className:"error-count",children:["에러: ",u.errors]}),u.warnings>0&&(0,l.jsxs)("span",{className:"warning-count",children:["경고: ",u.warnings]})]}),(0,l.jsxs)("div",{className:"validation-popup-body",children:[d.length>0&&(0,l.jsxs)("div",{className:"validation-section",children:[(0,l.jsxs)("h4",{className:"section-title error-title",children:["❌ 에러 (",d.length,")"]}),(0,l.jsx)("div",{className:"validation-list",children:d.map((e,t)=>(0,l.jsxs)("div",{className:"validation-item error-item",children:[(0,l.jsx)("div",{className:"validation-item-path",children:e.path}),(0,l.jsx)("div",{className:"validation-item-message",children:e.message}),(0,l.jsx)("div",{className:"validation-item-type",children:e.type})]},t))})]}),m.length>0&&(0,l.jsxs)("div",{className:"validation-section",children:[(0,l.jsxs)("h4",{className:"section-title warning-title",children:["⚠️ 경고 (",m.length,")"]}),(0,l.jsx)("div",{className:"validation-list",children:m.map((e,t)=>(0,l.jsxs)("div",{className:"validation-item warning-item",children:[(0,l.jsx)("div",{className:"validation-item-path",children:e.path}),(0,l.jsx)("div",{className:"validation-item-message",children:e.message}),(0,l.jsx)("div",{className:"validation-item-type",children:e.type})]},t))})]}),(0,l.jsx)("div",{className:"validation-popup-footer",children:(0,l.jsxs)("p",{className:"hint-text",children:["\uD83D\uDCA1 이 창은 storyData의 문제를 확인하기 위한 도구입니다.",(0,l.jsx)("br",{}),"콘솔에서도 동일한 정보를 확인할 수 있습니다."]})})]})]})})};s(9989);let q=()=>{let{currentScene:e,currentSceneId:t,goToScene:s,resetGame:h,resetToTitle:f}=(()=>{let{storyScenes:e}=(0,n.x)(),[t,s]=(0,a.useState)("scene1"),[l,r]=(0,a.useState)(["scene1"]),c=(0,a.useCallback)(()=>e?e.find(e=>e.id===t):null,[t,e]),o=(0,a.useCallback)(e=>{s(e),r(t=>[...t,e])},[]),i=(0,a.useCallback)(()=>{s("scene1"),r(["scene1"])},[]),u=(0,a.useCallback)(()=>{s("scene1"),r(["scene1"])},[]);return{currentSceneId:t,currentScene:c(),goToScene:o,resetGame:u,resetToTitle:i,history:l}})(),{affection:x,updateAffection:p,resetAffection:N,setAffection:R}=(()=>{let{characters:e}=(0,n.x)(),[t,s]=(0,a.useState)(()=>(0,r.Ol)());return{affection:t,updateAffection:(0,a.useCallback)(t=>{s(s=>{let l={...s};return Object.entries(t).forEach(t=>{var a,n,c;let[o,i]=t,u=(null!=(c=s[o])?c:null!=(n=null==e||null==(a=e[o])?void 0:a.initialAffection)?n:0)+Number(i||0);l[o]=(0,r.x2)(o,u)}),l})},[e]),resetAffection:(0,a.useCallback)(()=>{s((0,r.Ol)())},[]),setAffection:s}})(),{activeModal:O,modalData:I,openModal:_,closeModal:A}=(()=>{let[e,t]=(0,a.useState)(g.NONE),[s,l]=(0,a.useState)(null),n=(0,a.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t(e),l(s)},[]),r=(0,a.useCallback)(()=>{t(g.NONE),l(null)},[]),c=(0,a.useCallback)(t=>e===t,[e]);return{activeModal:e,modalData:s,openModal:n,closeModal:r,isModalOpen:c}})(),{isMuted:D,toggleMute:P,hasInteracted:M,setHasInteracted:T,storyData:F,isLoading:G,loadError:q,characters:J,places:Y,gameInfo:W}=(0,n.x)(),[K,H]=(0,a.useState)(!0),{dialogueIndex:$,showReaction:z,currentReaction:Q,pendingNextScene:X,setDialogueIndex:Z,incrementDialogueIndex:ee,startReaction:et,endReaction:es,resetDialogueState:el}=((e,t)=>{let[s,l]=(0,a.useState)(0),[n,r]=(0,a.useState)(!1),[c,o]=(0,a.useState)(null),[i,u]=(0,a.useState)(null),d=(e=>{let[t,s]=(0,a.useState)([void 0,e]);return t[1]!==e&&s([t[1],e]),t[0]})(e);(0,a.useEffect)(()=>{t&&d!==e&&queueMicrotask(()=>{l(0),r(!1),o(null),u(null)})},[t,e,d]);let m=(0,a.useCallback)(()=>{l(0),r(!1),o(null),u(null)},[]),g=(0,a.useCallback)(()=>{l(e=>e+1)},[]),h=(0,a.useCallback)((e,t)=>{o(e),u(t),r(!0)},[]),f=(0,a.useCallback)(()=>(r(!1),o(null),i),[i]);return{dialogueIndex:s,showReaction:n,currentReaction:c,pendingNextScene:i,setDialogueIndex:l,resetDialogueState:m,incrementDialogueIndex:g,startReaction:h,endReaction:f}})(t,e),ea=(0,a.useMemo)(()=>(e=>e?Array.isArray(e.dialogues)&&e.dialogues.length>0?e.dialogues:e.dialogue?[e.dialogue]:[]:[])(e),[e]),en=(0,a.useRef)(),er=(0,a.useCallback)(e=>{en.current&&en.current(e)},[]),{endingInfo:ec,showEndingResult:eo,computedEndingSceneId:ei,setEndingInfo:eu,resetEndingState:ed,showEnding:em}=((e,t,s,l,n,r)=>{let[u,d]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!(null==e?void 0:e.checkAffection)||m||u)return;let t=(0,c.K8)(s);if(!(0,o.Uj)(t))return void queueMicrotask(()=>{r(i.VALIDATION_ERROR)});queueMicrotask(()=>{d(t)})},[e,s,m,u,r]);let h=(0,a.useMemo)(()=>{if(!(null==e?void 0:e.checkAffection)||m||"ending"===e.type||l.length>0&&n<l.length-1)return null;let a=u;if(!a){let e=(0,c.K8)(s);if(!(0,o.Uj)(e))return"VALIDATION_ERROR";a=e}let r=(e=>{if(!e)return null;let{type:t,character:s,characters:l}=e;if("bad"===t)return"bad_ending";if("duo"===t)return l&&Array.isArray(l)&&l.length>0?"duo_ending_".concat(l.join("_")):"duo_ending";if("normal"===t&&!s)return"normal_ending";if(s){if("best"===t)return"best_ending_".concat(s);if("good"===t)return"good_ending_".concat(s);if("normal"===t)return"normal_ending_".concat(s)}return null})(a);return r?(0,o.SD)(r)?t===r?null:r:"SCENE_NOT_FOUND":"SCENE_ID_ERROR"},[e,l,n,m,s,u,t]),f=(0,a.useCallback)(()=>{d(null),g(!1)},[]);return{endingInfo:u,showEndingResult:m,computedEndingSceneId:h,setEndingInfo:d,resetEndingState:f,showEnding:(0,a.useCallback)(()=>{g(!0)},[])}})(e,t,x,ea,$,er),eg=ea[$]||null,eh=(null==e?void 0:e.type)==="choice",ef=(0,a.useMemo)(()=>((e,t,s)=>!!e&&(0===t||s>=t))(eh,ea.length,$),[eh,ea.length,$]),ex=(0,a.useMemo)(()=>ef&&0!==ea.length?ea[ea.length-1]:null,[ef,ea]),{displayCharacters:ep,displayedCharacters:ev,loadedPlace:eN,setLoadedPlace:ej,resetCharacterDisplay:eb,updateDisplayedCharacters:ey}=((e,t)=>{let[s,l]=(0,a.useState)({}),[n,r]=(0,a.useState)({}),[c,o]=(0,a.useState)(null),i=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={};for(let l of Object.keys(t)){let a=e[l],n=t[l];a&&a.emotion===n.emotion&&a.position===n.position&&a.active===n.active&&a.isNew===n.isNew?s[l]=a:s[l]=n}return s},[]);(0,a.useEffect)(()=>{t&&queueMicrotask(()=>{if(void 0===t.characters)return;let e=m(t.characters);l(t=>{let s={};for(let n of Object.keys(e)){var l,a;s[n]={...e[n],isNew:null==(a=null==(l=t[n])?void 0:l.isNew)||a}}return i(t,s)})})},[t,i]);let u=(0,a.useCallback)(e=>{r(e||{})},[]);(0,a.useEffect)(()=>{c&&t&&queueMicrotask(()=>o(null))},[c,t]);let d=(0,a.useCallback)(()=>{l({}),r({}),o(null)},[]);return{displayCharacters:s,displayedCharacters:n,loadedPlace:c,setLoadedPlace:o,resetCharacterDisplay:d,updateDisplayedCharacters:u}})(0,eg),eC=(0,a.useMemo)(()=>(e=>{var t,s,l,a;let{showReaction:n,currentReaction:r,currentLine:c,dialogueForChoice:o,shouldShowChoices:i,displayCharacters:u}=e;if(n&&(null==r?void 0:r.characters)){let e=m(r.characters);for(let l in e)e[l].isNew=null!=(s=null==(t=u[l])?void 0:t.isNew)&&s;return e}let d=i?o:c;if(null==d?void 0:d.characters){let e=m(d.characters);for(let t in e)e[t].isNew=null!=(a=null==(l=u[t])?void 0:l.isNew)&&a;return e}return u})({showReaction:z,currentReaction:Q,currentLine:eg,dialogueForChoice:ex,shouldShowChoices:ef,displayCharacters:ep}),[z,Q,eg,ex,ef,ep]);a.useEffect(()=>{ey(eC)},[eC,ey]),(0,a.useEffect)(()=>{en.current=e=>{console.error("[Story Error]",e),_(g.STORY_ERROR,{message:d.STORY_ERROR(e),onConfirm:()=>{A(),f(),H(!0),N(),el(),ed(),eb()}})}},[_,A,f,H,N,el,ed,eb]);let{audioRef:ek,currentBGMRef:eS}=(e=>{let{currentScene:t,currentSceneId:s,showTitleScreen:l,isMuted:n,hasInteracted:r,titleBGM:c=null}=e,o=(0,a.useRef)(null),i=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=l?c:null==t?void 0:t.backgroundMusic;if(o.current||(o.current=new Audio,o.current.loop=!0,o.current.volume=+!n),!e){o.current&&!o.current.paused&&(o.current.pause(),o.current.currentTime=0),i.current=null,u.current=null;return}if(i.current===e){r&&o.current&&o.current.paused&&o.current.play().catch(e=>{console.error("[BGM] 재생 실패:",e)});return}if(o.current.src="/assets/musics/".concat(e),o.current.volume=+!n,!r){u.current=e,console.log("[BGM] 사용자 상호작용 대기 중, 재생 보류:",e);return}i.current=e,u.current=null,o.current.play().catch(e=>{console.error("[BGM] 재생 실패:",e)})},[t,s,l,n,r,c]),(0,a.useEffect)(()=>{if(r&&u.current&&o.current){let e=u.current;i.current=e,u.current=null,console.log("[BGM] 사용자 상호작용 감지, 재생 시작:",e),o.current.play().catch(e=>{console.error("[BGM] 재생 실패:",e)})}},[r]),(0,a.useEffect)(()=>{o.current&&(o.current.volume=+!n)},[n]),(0,a.useEffect)(()=>()=>{o.current&&(o.current.pause(),o.current=null)},[]),{audioRef:o,currentBGMRef:i}})({currentScene:e,currentSceneId:t,showTitleScreen:K,isMuted:D,hasInteracted:M,titleBGM:null==W?void 0:W.backgroundMusic}),{isLoading:eE,isReady:eR,progress:eO}=y((0,a.useMemo)(()=>[...(0,j.vi)(),...(0,j.h0)("scene1")],[]),K),{isReady:eI}=(e=>{let{places:t}=(0,n.x)(),[s,l]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!1),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!e||o.current===e)return void c(!0);(async()=>{l(!0),c(!1);try{let s=t[e];if(!s||!s.image){c(!0),l(!1);return}let a="/assets/places/".concat(s.image);console.log("[useSceneBackgroundPreloader] Preloading background: ".concat(e)),(await v([a],{timeout:1e4})).success?(console.log("[useSceneBackgroundPreloader] Background loaded: ".concat(e)),c(!0),o.current=e):(console.warn("[useSceneBackgroundPreloader] Failed to load background: ".concat(e)),c(!0))}catch(e){console.error("[useSceneBackgroundPreloader] Preload error:",e),c(!0)}finally{l(!1)}})()},[e]),{isLoading:s,isReady:r}})(null==e?void 0:e.place),{clearCache:e_}=b(t,$,{enabled:!K&&eI,lookAheadDialogues:5,lookAheadScenes:2}),ew=(0,a.useMemo)(()=>eN||((null==e?void 0:e.place)&&Y[e.place]?e.place:"default"),[e,eN]),eA=(0,a.useRef)(ew),eD=(0,a.useMemo)(()=>eI?(eA.current=ew,ew):eA.current,[ew,eI]),eP=(0,a.useMemo)(()=>(0,C.U)(eD),[eD]),eM=(0,a.useMemo)(()=>((e,t)=>!!(null==e?void 0:e.cutsceneImage)&&(null==t?void 0:t.cutscene)===!0)(e,eg),[e,eg]),eT=(0,a.useCallback)(e=>{"restart"===e?(h(),H(!1),T(!0)):(f(),H(!0),ek.current&&(eS.current=null)),N(),ed(),el(),eb(),e_()},[h,f,N,ed,el,eb,T,ek,eS,e_]),[eL,eF]=a.useState(!1);a.useEffect(()=>ei?"VALIDATION_ERROR"===ei?void queueMicrotask(()=>{er(i.VALIDATION_ERROR)}):"SCENE_ID_ERROR"===ei?void queueMicrotask(()=>{er(i.SCENE_ID_ERROR)}):"SCENE_NOT_FOUND"===ei?void queueMicrotask(()=>{er(i.SCENE_NOT_FOUND)}):void(async()=>{eF(!0);try{let e=(0,j.h0)(ei);if(e.length>0){console.log("[VisualNovel] Preloading ".concat(e.length," images for ending scene: ").concat(ei));let t=await v(e,{timeout:15e3});t.success?console.log("[VisualNovel] Ending scene images preloaded successfully"):console.warn("[VisualNovel] Some ending images failed to load: ".concat(t.failed.length,"/").concat(t.total))}s(ei)}catch(e){console.error("[VisualNovel] Error preloading ending scene:",e),s(ei)}finally{eF(!1)}})():void 0,[ei,s,er]),a.useEffect(()=>{if((null==e?void 0:e.type)!=="ending"||ec||eo)return;let s=(0,c.uS)(t);s&&(0,o.Uj)(s)?queueMicrotask(()=>{eu(s)}):queueMicrotask(()=>{er('엔딩 씬 ID "'.concat(t,'"로부터 엔딩 정보를 생성할 수 없습니다.'))})},[e,t,ec,eo,eu,er]),a.useEffect(()=>{if((null==e?void 0:e.type)==="ending"&&!eo&&ec&&0===ea.length){if(!(0,o.Uj)(ec))return void queueMicrotask(()=>{er(i.RESULT_DISPLAY_ERROR)});queueMicrotask(()=>{em()})}},[e,ea.length,eo,ec,em,er]);let eB=(0,a.useCallback)(()=>{if(!eo){if(ea.length>0&&$<ea.length-1)return void ee();if(eh&&$>=ea.length-1){$===ea.length-1&&ee();return}if((null==e?void 0:e.type)==="ending")return ec&&(0,o.Uj)(ec)?void em():void er(i.RESULT_DISPLAY_ERROR);if(null==e||!e.checkAffection)if(null==e?void 0:e.next)s(e.next);else{let t=(0,o.Ju)(e);t.isValid||er(u.FLOW_ERROR(t.error))}}},[eh,ea.length,$,e,ec,er,s,ee,em,eo]),eU=(0,a.useCallback)(t=>{t.affectionChanges&&p(t.affectionChanges);let l=t.next||(null==e?void 0:e.next);if(!l)return void er(u.CHOICE_ERROR(t.text));t.reaction?et(t.reaction,l):s(l)},[p,s,er,e,et]),eG=(0,a.useCallback)(()=>{let e=es();e&&s(e)},[es,s]),eV=(0,a.useCallback)(()=>{eT("restart")},[eT]),eq=(0,a.useCallback)(()=>{_(g.CONFIRM,{message:d.RESET_TO_TITLE,onConfirm:()=>{A(),eT("title")}})},[_,A,eT]),eJ=(0,a.useCallback)(()=>{H(!1),T(!0),s("scene1")},[s,T]),eY=(0,a.useCallback)(()=>{P(),D&&T(!0)},[P,D,T]),eW=(0,a.useCallback)(()=>{_(g.SAVE_LOAD,{mode:"save"})},[_]),eK=(0,a.useCallback)(()=>{_(g.SAVE_LOAD,{mode:"load"})},[_]),eH=(0,a.useCallback)(()=>({currentSceneId:t,affection:x,endingInfo:ec,showEndingResult:eo,dialogueIndex:$,currentPlace:ew,showReaction:z,currentReaction:Q,pendingNextScene:X,displayCharacters:ep,displayedCharacters:ev}),[t,x,ec,eo,$,ew,z,Q,X,ep,ev]),e$=(0,a.useCallback)(e=>{var t;H(!1),T(!0),s(e.sceneId);let l=e.affection||{},a={};Object.values(J).forEach(e=>{var t,s;let n=null!=(s=null!=(t=l[e.id])?t:e.initialAffection)?s:0;a[e.id]=(0,r.x2)(e.id,n)}),R(a),eu(e.endingInfo),Z(null!=(t=e.dialogueIndex)?t:0),ej(e.currentPlace&&Y[e.currentPlace]?e.currentPlace:"default"),A()},[s,R,eu,Z,ej,A,T]);return G||!F?(0,l.jsx)(U.A,{progress:null}):q?(0,l.jsxs)("div",{style:{color:"white",padding:"20px",textAlign:"center"},children:[(0,l.jsx)("h2",{children:"스토리 데이터를 불러오는 데 실패했습니다"}),(0,l.jsx)("p",{children:q})]}):K?eE||!eR?(0,l.jsx)(U.A,{progress:eO}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(V,{showOnTitleScreen:!0}),(0,l.jsx)(S,{onStart:eJ,onLoad:eK,isMuted:D,onToggleMute:eY}),(0,l.jsx)(w,{activeModal:O,modalData:I,onCloseModal:A,onLoad:e$,currentGameState:eH()})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"visual-novel",style:eP,children:(0,l.jsxs)("div",{className:"game-container",children:[e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(E,{currentPlaceId:ew,onSaveClick:eW,onLoadClick:eK,onResetClick:eq,isMuted:D,onToggleMute:P}),(0,l.jsx)(B,{displayedCharacters:ev,shouldShowCutscene:eM,currentScene:e,showReaction:z,currentReaction:Q,handleReactionNext:eG,shouldShowChoices:ef,dialogueForChoice:ex,currentLine:eg,handleNext:eB,onChoice:eU}),eo&&ec&&(0,l.jsx)(k,{endingInfo:ec,affection:x,onRestart:eV,onBackToTitle:()=>eT("title")}),(0,l.jsx)(w,{activeModal:O,modalData:I,onCloseModal:A,onLoad:e$,currentGameState:eH()})]}),(eL||!e)&&(0,l.jsx)(L,{message:e?"엔딩을 준비하는 중...":"씬을 불러오는 중..."})]})})})}},9755:()=>{},9989:()=>{}}]);